create table Book(
    id int generated by default as identity primary key,
    title_of_book varchar(70) not null,
    year_of_edition int check (year_of_edition > 1900) not null,
    format varchar(4) not null,
    alt_cover boolean,
    autograph boolean,
    signature varchar(30)
);
create table Comic(
    id int generated by default as identity primary key,
    book_id int references Book(id) on delete cascade,
    title varchar(70) not null,
    year int check (year > 1900) not null,
    writer varchar(30) not null,
    artist varchar(30) not null
);

create table Writer(
    id int generated by default as identity primary key,
    name varchar(40) not null unique
);

create table Artist(
    id int generated by default as identity primary key,
    name varchar(40) not null unique
);

create table Comic_Writer(
    comic_id int references Comic(id) on delete set null,
    writer_id int references Writer(id),
    primary key(comic_id, writer_id)
);

create table Comic_Artist(
    comic_id int references Comic(id) on delete set null,
    artist_id int references Artist(id),
    primary key(comic_id, artist_id)
);